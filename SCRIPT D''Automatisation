#!/bin/bash

# === 1. CrÃ©ation des comptes utilisateurs ===
for user in formateur1 formateur2 admin-formation; do
    adduser --disabled-password --gecos "" $user
done

# === 2. Ajouter des alias utiles pour chaque utilisateur ===
for user in formateur1 formateur2 admin-formation; do
    echo "alias maj='sudo apt update && sudo apt upgrade -y'" >> /home/$user/.bashrc
    echo "alias aide='cat /etc/cloud-guide.txt'" >> /home/$user/.bashrc
    chown $user:$user /home/$user/.bashrc
done

# === 3. Installation des outils nÃ©cessaires ===
apt update && apt install -y nano git curl htop wget

# === 4. RÃ©daction du guide cloud-guide.txt ===
cat << 'EOF' > /etc/cloud-guide.txt
Bienvenue sur votre environnement de formation Ubuntu !

ğŸ“š Aliases disponibles :
  maj   : met Ã  jour le systÃ¨me
  aide  : affiche ce guide

ğŸ“„ Commandes utiles :
  ls -l             : liste dÃ©taillÃ©e des fichiers
  cd [dossier]      : naviguer dans un dossier
  nano [fichier]    : Ã©diter un fichier en mode texte
  htop              : surveiller les ressources systÃ¨me
  git clone [URL]   : cloner un dÃ©pÃ´t git

Bon apprentissage !
EOF

# === 5. Personnalisation du motd (Message of the Day) ===
cat << 'EOF' > /etc/motd
**********************************************
ğŸ“  BIENVENUE DANS LA VM DE FORMATION UBUNTU  ğŸ“
ğŸ‘¤ Utilisateurs : formateur1, formateur2, admin-formation
ğŸ“„ Tapez 'aide' pour afficher le guide
**********************************************
EOF

echo "âœ… Script terminÃ© : Environnement de formation prÃªt !"
